<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
<h:head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width,initial-scale=1.0" />
	<title>Modifier Stagiaire</title>

</h:head>
<c:choose>
	<c:when test="#{userRole eq 'chef' or userRole eq 'admin'}">

<h:body>

	<div id="page-container"
		class="sidebar-o sidebar-mini enable-page-overlay side-scroll page-header-fixed remember-theme page-header-modern main-content-narrow">

		<!-- Side Overlay-->
		<c:choose>
			<c:when test="#{userRole eq 'chef'}">
				<ui:include src="/navigation/sidebar_chef.xhtml" />
			</c:when>

			<!-- Include admin content if the user has the "admin" role -->
			<c:when test="#{userRole eq 'admin'}">
				<ui:include src="/navigation/sidebar_admin.xhtml" />
			</c:when>
		</c:choose>

		<ui:include src="/navigation/header.xhtml" />

		<!-- Main Container -->
		<main id="main-container">

			<!-- Page Content -->
			<div class="content">


				<!-- Labels on Top -->
				<div class="block block-rounded">
					<div class="block-header block-header-default">
						<h3 class="block-title">Modifier Stagiaire</h3>
					</div>
					<div class="block-content">
						<div class="row mx-0 justify-content-center">
							<div class="col-lg-8 col-xl-8">
								<!-- Form Labels on top - Default Style -->
								<h:form class="js-validation">
									<div class="block-content block-content-full">
										<!-- Regular -->
										<div class="row items-push">

											<div class="col">

												<div class="row">
													<div class="col mb-4">
														<label class="form-label">CIN<span
															class="text-danger"> *</span></label>
														<h:inputText type="text" class="form-control" name="cin"
															value="#{StagiaireManagedBean.stagiaireEnCoursDeModification.cin}"
															placeholder="Entrer le sujet du stage : " />
													</div>
													<div class="col mb-4">
														<label class="form-label">Nom<span
															class="text-danger"> *</span></label>
														<h:inputText type="text" class="form-control" name="nom"
															value="#{StagiaireManagedBean.stagiaireEnCoursDeModification.nom}"
															placeholder="Entrer le sujet du stage : " />
													</div>
												</div>

												<div class="row">
													<div class="col mb-4">
														<label class="form-label">Prenom<span
															class="text-danger"> *</span></label>
														<h:inputText type="text" class="form-control"
															name="prenom"
															value="#{StagiaireManagedBean.stagiaireEnCoursDeModification.prenom}"
															placeholder="Entrer le sujet du stage : " />
													</div>
													<div class="col mb-4">
														<label class="form-label">Ecole<span
															class="text-danger"> *</span></label>
														<h:inputText type="text" class="form-control" name="ecole"
															value="#{StagiaireManagedBean.stagiaireEnCoursDeModification.ecole}"
															placeholder="Entrer le sujet du stage : " />
													</div>
												</div>

												<div class="row">
													<div class="col mb-4">
														<label class="form-label">Date Naissance<span
															class="text-danger"> *</span></label>
														<h:inputText type="text" class="js-flatpickr form-control"
															value="#{StagiaireManagedBean.stagiaireEnCoursDeModification.dateN}"
															placeholder="Entrer la date de debut du stage">
															<f:convertDateTime pattern="yyyy-MM-dd" required="true" />
														</h:inputText>
													</div>
													<div class="col mb-4">
														<label class="form-label">Email<span
															class="text-danger"> *</span></label>
														<h:inputText type="text" class="form-control" name="email"
															value="#{StagiaireManagedBean.stagiaireEnCoursDeModification.email}"
															placeholder="Entrer le sujet du stage : " />
													</div>
												</div>


												<c:if test="#{userRole eq 'chef'}">

												<div class="row">

													<div class="mb-4">
														<h:selectOneMenu class="form-select"
															value="#{StagiaireManagedBean.stagiaireEnCoursDeModification.stage.id_stage}"
															editable="true">
															<f:selectItem selected="true"
																itemLabel="-- Select Stage --" class="select-label"
																itemValue="#{1}" />
															<f:selectItems value="#{StageManagedBean.stages}" var="s"
																itemLabel="#{s.sujet_stage}" itemValue="#{s.id_stage}" />
														</h:selectOneMenu>
													</div>
													<div class="mb-4">
														<h:selectOneMenu class="form-select"
															value="#{StagiaireManagedBean.stagiaireEnCoursDeModification.encadrant.id}"
															editable="true">
															<f:selectItem selected="true"
																itemLabel="-- Select Encadrant --" class="select-label"
																itemValue="#{1}" />
															<f:selectItems value="#{EncadrantManagedBean.encadrants}"
																var="s" itemLabel="#{s.nom}" itemValue="#{s.id}" />
														</h:selectOneMenu>
													</div>
												</div>
</c:if>

											</div>
										</div>
										<!-- END Regular -->
										<div class="border-top d-flex justify-content-end">
											<a href="/Projet_JEE_Web/lists/list_stagiaires.xhtml"
												type="button" class="btn btn-alt-secondary mt-3 m-1">Annuler</a>
											<h:commandButton class="btn btn-alt-primary mt-3 m-1"
												data-bs-dismiss="modal" value="Modifier"
												action="#{StagiaireManagedBean.updateStagiaire}" />
										</div>
									</div>
								</h:form>
								<!-- END Form Labels on top - Default Style -->


							</div>
						</div>
						<!-- END Label on top Layout -->
					</div>
				</div>
				<!-- END Labels on Top -->







			</div>
			<!-- END Page Content -->
		</main>
		<!-- END Main Container -->

			<ui:include src="/navigation/footer.xhtml" />

	</div>
	<!-- END Page Container -->

</h:body>
</c:when>
    <c:otherwise>
        <ui:include src="/errors/error403.xhtml" />
    </c:otherwise>
</c:choose>

</html>